package pl.kul.blog.log4j2;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class VulnerabilityController {

    private static final Logger logger = LogManager.getLogger(VulnerabilityController.class);

    @RequestMapping("/log4j")
    public String index(@RequestParam(value = "name", defaultValue = "dawid") String name) {

        logger.error("Name: " + name);

        String s = "Hej " + name + "<br /><form method = 'GET'>Name:" +
                " <input type= 'text' name='name'><input type='submit' value='Send!'></form>";

        return s;
    }
}
